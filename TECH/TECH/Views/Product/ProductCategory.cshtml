@using TECH.Areas.Admin.Models
@model List<ProductModelView>
@{
    ViewData["Title"] = "ProductCategory";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .product-category .ul-nmn{
            background-color: #8fa815 !important;
    display: inline-block;
    }
    .product-category .ul-nmn>li{
            float: unset;
                margin-left: unset;
    }
   .t-prod-H .t_span1 span.tab_news5 {
    background: #89a600;
}
    .t-prod-H {

        background: #e6e6e6;
    border-bottom: 1px solid #fff;
    display: block;
    width: 100%;
    height: 41px;
    margin-bottom: 0px;

}
.t-prod-H .t_span1 span.tab_news5 {
    background: #89a600;
}
.info-prod-H h3 {
    color: #333;
    font-weight: 400;
    padding: 8px;
    font-size: 13px;
    margin: 0px;
}
.info-prod-H h4 {
    font-size: 14px;
    font-weight: 700;
    color: #f8456a;
    margin: 0px;
    font-size: 13px;
}
.t-prod-H .t_span1 span {
    text-transform: uppercase;
    color: #fff;
    float: left;
    font-size: 14px;
    font-weight: 400;
    padding: 0 20px;
        height: 100%;
            display: inline-flex;
    align-items: center;
}
.item {
        width: 100%;
    display: inline-block;
    height: 348px;
    text-align: center;
    position: relative;
    overflow: hidden;
    padding: 10px;
    border: 1px solid #ddd;
}

 .shoe-product .product-item{
            width: 25%;
    padding-left: 10px;
    padding-right: 10px;
    float: left;
    margin: 10px 0 15px;
    text-align: left;
    }
    .shoe-product .images{
            position: relative;
    padding-bottom: 100%;
    height: 0;
    }
    .ribbon{
            display: block;
    right: 0;
    top: 0;
    z-index: 9;
    overflow: hidden;
    width: 73px;
    height: 66px;
    text-align: center;
    position: absolute;
    }
     .ribbon span{
         height: 26px;
    overflow: hidden;
    font-size: 11px;
    color: #fff;
    text-align: center;
    font-weight: 400;
    line-height: 26px;
    transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
    width: 103px;
    display: block;
    background: #f7941d;
    background: linear-gradient(#f7941d 0,#f7941d 100%);
    box-shadow: 0 3px 10px -5px #000;
    top: 11px;
    position: absolute;
     }
     .shoe-product img{
             position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    overflow: hidden;
    border: 1px solid #dadada;
     }
     .shoe-product .info{
             position: relative;
    box-sizing: border-box;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
     }
     .shoe-product .info h3{
             font-size: 14px;
    margin: 5px 0;
    overflow: hidden;
    font-weight: 400;
    /* height: 41px; */
    line-height: 22px;

        text-transform: unset;
        display: -webkit-box;
        overflow: hidden;
        text-overflow: ellipsis;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        height: 3.4em;
     }
     .shoe-product .info p{
             font-size: 18px;
    font-weight: 500;
    margin-top: 5px;
        color: #e77e24;
     }
     .shoe-product .info p sup{
             padding-left: 2px;
    color: #e77e24;
     }
     .shoe-product .info p span{
             color: #666;
    text-decoration: line-through;
    padding-left: 10px;
    height: auto;
    font-size: 16px;
     }
         .shoe-product  h3 a, .shoe-product li h3 a {
        display: table-cell;
        vertical-align: middle;
        text-overflow: ellipsis;
        text-decoration: none;
        color: #333;
    }

    .custom-menu .ul-nmn{
            background-color:unset !important;
    }
    .custom-menu .ul-nmn img{
        display:none;
    }
        .custom-menu .ul-nmn>li {
            text-align: left;
            border-bottom: 1px solid #ddd;
            padding-bottom: 13px;
            z-index: 0 !important;
    }
    .custom-menu .ul-nmn>li a{
            padding: 0px;
    }
        .collection-sorting-wrapper > .wrapper > .inner .col-sorting select{
                    background: unset;
                    color:black
        }
            #SortBy{
                        box-shadow: inset 0 -1.4em 1em 0 rgba(0,0,0,.02);
        background-color: #fff;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url(data:image/svg+xml;charset=utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-chevron-down'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E);
        background-position: right .45em top 50%;
        background-repeat: no-repeat;
        padding-right: 1.4em;
        background-size: auto 16px;
        border-radius: 0;
            }
</style>
@*<div class="home-horizontal-banner not-index">
    <div class="wrapper">
        <div class="inner">
            <a href="https://cachep.vn/products/combo-5-cuon-so-tay-ca-chep-the-planner-2024"><img src="/image-side/logo-product.jpg" alt=""></a>
        </div>
    </div>
</div>*@
<section id="breadcrumb-wrapper">
   <div class="breadcrumb-content">
        <div class="container">
         <div class="inner">
            <div class="breadcrumb-small">
               <a href="/" title="Quay trở về trang chủ">Trang chủ</a>
                    @if (Model != null && Model.Count > 0)
                    {
                             <span class="mr_lr">&nbsp;/&nbsp;</span>
                       <a href="/san-pham/@Model[0].category_id">@Model[0].categorystr</a>
                       <input type="hidden" value="@Model[0].category_id" id="categoryId"/>
                   }
              
            </div>
         </div>
      </div>
   </div>
</section>
<div id="PageContainer" class="is-moved-by-drawer ">
   <main class="main-content" role="main">
      <div class="collection-sorting-wrapper">
            <div class="container">
            <div class="inner">
               <div class="grid">
                  <div class="grid__item mg-bottom-10 large--one-half medium--one-half small--one-whole">
                     <div class="collection-title">
                         @if (Model != null && Model.Count > 0)
                            {
                                <h1>@Model[0].categorystr</h1>
                            }                    
                     </div>
                  </div>
                  <div class="grid__item mg-bottom-10 large--one-half medium--one-half small--one-whole text-right">
                     <div class="col-sorting">
                        <!-- /snippets/collection-sorting.liquid -->
                        <div class="form-horizontal">
                           @*<label for="SortBy">Sắp xếp</label>*@
                                    <select name="SortBy" id="SortBy" style="width: 230px;display: inline-block;border-radius: 5px;" class="form-select">
                              <option value="manual">Tùy chọn</option>
                              <option value="1">Theo bảng chữ cái từ A-Z</option>
                              <option value="2">Theo bảng chữ cái từ Z-A</option>
                              <option value="3">Giá từ thấp tới cao</option>
                              <option value="4">Giá từ cao tới thấp</option>
                           </select>
                        </div>
                      
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
   </main>
</div>

<section class="section section2 custom-section" id="section_1623773133">
                <div class="container">

                    <div class="inner">
                        <div class="section-content relative">
                            <div class="row" id="row-1066193258">
                                <div id="col-1187004373" class="col small-12 large-12">
                                    <div class="col-inner">
                                   
                                        <div class="row  equalize-box large-columns-5 medium-columns-3 small-columns-2 row-small">
                                            @if (Model != null && Model.Count > 0)
                                {
                                    @foreach (var itemProduct in Model)
                                    {
                                        <div class="col">
                                            <div class="col-inner">

                                                <div class="product-small box has-hover box-normal box-text-bottom">
                                                    <div class="box-image">
                                                        <div class="image-zoom image-cover" style="padding-top:100%;">
                                                            <a href="/chi-tiet-san-pham/@itemProduct.id" aria-label="@itemProduct.name">
                                                                <img loading="lazy" decoding="async" width="790" height="790" src="/product-image/@itemProduct.ImageModelView[0].name" class="attachment-original size-original lazy-load-active" alt="" sizes="(max-width: 790px) 100vw, 790px">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="box-text text-center" style="height: 119.25px;">
                                                        <div class="title-wrapper">
                                                            <p class="name product-title woocommerce-loop-product__title" style="height: 69.7375px;"><a href="/chi-tiet-san-pham/@itemProduct.id" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"> @itemProduct.name</a></p>
                                                        </div>
                                                        <div class="price-wrapper" style="height: 18px;">
                                                            <span class="price">
                                                                <del aria-hidden="true">
                                                                    <span class="woocommerce-Price-amount amount">
                                                                        @if (!string.IsNullOrEmpty(itemProduct.price_reduced_str))
                                                                        {
                                                                            <bdi>@itemProduct.price_reduced_str<span class="woocommerce-Price-currencySymbol">₫</span></bdi>
                                                                        }

                                                                    </span>
                                                                </del>
                                                                <ins>
                                                                    @if (!string.IsNullOrEmpty(itemProduct.price_sell_str))
                                                                    {
                                                                        <span class="woocommerce-Price-amount amount"><bdi>@itemProduct.price_sell_str<span class="woocommerce-Price-currencySymbol">₫</span></bdi></span>
                                                                    }

                                                                </ins>
                                                            </span>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }else{
                                    <div style="font-size: 25px;
    text-transform: uppercase;
    font-weight: bold;
    min-height: 200px;
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;">
                                        Không tìm thấy sản phẩm
                                    </div>
                                }
                                         
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {            
            $('#SortBy').on('change', function () {
                window.location.href = '/san-pham?categoryId=' + $("#categoryId").val() + "&sort=" + this.value;
            });
            var sort = urlParamCustom("sort");
            if (sort != null) {
                $('#SortBy').val(sort);
            }
        })
        function urlParamCustom(name) {
            var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
            if (results == null) {
                return null;
            }
            return decodeURI(results[1]) || 0;
        }
    </script>
}